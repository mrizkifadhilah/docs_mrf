# ğŸ“˜ SUB-BAB 14.4: TANGGUNG JAWAB BARU: APA YANG TIDAK DIURUS CLOUD?

## ğŸ¯ Tujuan Pembelajaran
Setelah mempelajari sub-bab ini, kamu akan mampu:
1.  Menjelaskan model **Shared Responsibility** di cloud: mana tanggung jawab provider, mana tanggung jawabmu.
2.  Mengidentifikasi aspek kritis yang **TIDAK** bisa diotomatisasi oleh DBaaS, seperti Desain Skema dan Logika Bisnis.
3.  Menerapkan konfigurasi keamanan logis (RBAC, FLE) di atas infrastruktur cloud yang sudah aman secara fisik.

---

## ğŸ”— Context & Hook
Ada mitos berbahaya di kalangan developer: *"Saya sudah pakai Cloud/DBaaS, jadi database saya otomatis aman dan cepat. Saya tidak perlu kerja lagi."*

Ini salah besar. Cloud Provider (AWS/Atlas) hanya menjamin **"Keamanan DARI Cloud"** (Server tidak dicuri, listrik tidak mati). Tapi mereka tidak menjamin **"Keamanan DI DALAM Cloud"**.
* Jika kamu membuat desain skema yang buruk, database tetap akan lambat.
* Jika kamu memberi akses `root` ke semua orang, data tetap akan dicuri.
* Jika kamu membuat kueri tanpa indeks, tagihan cloud akan meledak.

Jadi, meskipun kamu "penumpang VIP", kamu tetaplah pemilik barang bawaan. Kamu harus tahu mana koper yang isinya bom waktu.

---

## ğŸ’¡ Analogi: Menyewa Apartemen
* **Tanggung Jawab Gedung (Cloud Provider):** Menjaga gerbang depan, memastikan lift berfungsi, memadamkan kebakaran gedung, dan memperbaiki pipa bocor.
* **Tanggung Jawab Penyewa (Kamu):** Mengunci pintu unit apartemenmu, tidak membagikan kunci ke orang asing (RBAC), dan menata perabotan agar tidak berantakan (Schema Design).
    * Jika maling masuk karena kamu lupa kunci pintu, pengelola gedung tidak bertanggung jawab.

---

## ğŸ“š Inti Materi

### 1. Shared Responsibility Model
Ini adalah hukum dasar cloud. Tanggung jawab dibagi dua:
* **Provider (Atlas/AWS):** Hardware, OS, Jaringan Fisik, Patching Server, Backup Snapshot Otomatis.
* **Customer (Kamu):** Data, User (RBAC), Skema (BSON), Indeks, Enkripsi Client-Side (FLE).

### 2. Area Kritis Milikmu (User-Managed)
Meskipun pakai DBaaS termahal sekalipun, 3 hal ini tetap 100% tugasmu:
1.  **Desain Skema (Schema Design):** Cloud tidak tahu apakah aplikasimu butuh *Embedding* atau *Referencing* (Bab 3). Desain yang buruk = Biaya mahal.
2.  **Strategi Indeks (Indexing):** Cloud menyediakan alat saran (*Performance Advisor*), tapi kamulah yang harus memutuskan dan membuat indeks (Bab 5). Tanpa indeks, *Serverless* akan memakan biaya RPU selangit.
3.  **Keamanan Logis (Logical Security):** Cloud mengamankan kabel jaringan (TLS), tapi kamu yang harus mengatur siapa yang boleh login dan apa hak aksesnya (RBAC - Bab 12).

### 3. Keamanan Jaringan di Cloud
Walaupun DBaaS dapat diakses via internet, kamu tidak boleh membiarkannya terbuka ke publik (`0.0.0.0/0`).
* **IP Whitelisting:** Hanya izinkan IP server aplikasimu yang bisa akses.
* **VPC Peering:** Menghubungkan jaringan privat aplikasimu (di AWS) langsung ke jaringan privat database (di Atlas) tanpa lewat internet publik. Ini lebih aman dan cepat.

---

## ğŸ“± Contoh Penerapan: Kasus Kebocoran Data
1.  **Skenario:** Sebuah startup menggunakan MongoDB Atlas. Servernya *up* 99.99%. Tiba-tiba data user bocor di forum hacker.
2.  **Investigasi:** Apakah Atlas di-hack? Tidak.
3.  **Penyebab:** Developer menyetel *IP Whitelist* ke `0.0.0.0/0` (semua orang boleh akses) dan membuat user database dengan password `admin123`.
4.  **Pelajaran:** Cloud Provider sudah menyediakan gembok canggih, tapi developer membiarkan kuncinya tergantung di pintu. Ini adalah kegagalan tanggung jawab pengguna (*Customer Responsibility*).

---

## ğŸ“– Mini-Glossary
* **Shared Responsibility Model:** Kerangka kerja keamanan cloud yang membagi kewajiban keamanan antara penyedia layanan dan pelanggan.
* **VPC Peering:** Koneksi jaringan privat antara dua Virtual Private Cloud (VPC) yang memungkinkan traffic mengalir seolah-olah berada di jaringan yang sama.
* **IP Whitelisting:** Praktik keamanan yang hanya mengizinkan alamat IP tertentu untuk mengakses sistem.
* **Performance Advisor:** Alat bantu di DBaaS yang menganalisis log kueri dan menyarankan indeks yang mungkin hilang.

---

## ğŸ“ Evaluasi Singkat

### 5 Soal Pilihan Ganda (HOTS)

1.  **Analisis:** Jika sebuah kueri berjalan sangat lambat di MongoDB Atlas sehingga menyebabkan *timeout* pada aplikasi, siapa yang paling bertanggung jawab untuk memperbaikinya?
    * a. Tim Support MongoDB Atlas, karena server mereka lambat.
    * b. Arsitek Data/Developer, karena kemungkinan besar masalahnya adalah *Missing Index* atau desain skema yang buruk, bukan masalah hardware.
    * c. Penyedia Internet.
    * d. Hacker.
    * e. CEO.

2.  **Konsep:** Dalam *Shared Responsibility Model*, manakah yang merupakan tanggung jawab Cloud Provider?
    * a. Membuat user database dan password.
    * b. Mengganti harddisk server fisik yang rusak di data center.
    * c. Memutuskan apakah field `alamat` harus di-embed atau di-reference.
    * d. Mengenkripsi field NIK menggunakan FLE.
    * e. Menulis kode aplikasi.

3.  **Keamanan:** Fitur apa di DBaaS yang memungkinkan server aplikasi di AWS berkomunikasi dengan database di Atlas melalui jalur privat yang aman dan cepat, tanpa terekspos ke internet publik?
    * a. Public API.
    * b. VPC Peering / Private Link.
    * c. SSH Tunnel.
    * d. HTTP Request.
    * e. FTP.

4.  **Skenario:** Anda mengaktifkan *Auto-Scaling* di Atlas. Tiba-tiba tagihan bulan ini naik 500% karena lonjakan trafik bot. Siapa yang bertanggung jawab atas biaya ini?
    * a. Provider akan mengembalikan uang karena itu bot.
    * b. Anda (Pelanggan), karena *Auto-Scaling* bekerja sesuai instruksi untuk melayani trafik apa pun yang masuk; perlindungan terhadap bot (WAF/Rate Limiting) ada di layer aplikasi, tanggung jawab Anda.
    * c. Bank.
    * d. Pemerintah.
    * e. Provider Internet.

5.  **Identifikasi:** Apa yang **TIDAK** bisa dilakukan oleh *Automation* di DBaaS?
    * a. Melakukan backup snapshot jam 2 pagi.
    * b. Menambah kapasitas RAM saat CPU tinggi.
    * c. Memahami logika bisnis aplikasi dan menentukan validasi skema (Schema Validation) yang tepat.
    * d. Me-restart server saat update version.
    * e. Mengirim alert disk penuh.

### Kunci Jawaban
1.  **b** (Performa kueri adalah ranah logika/software, bukan infrastruktur).
2.  **b** (Keamanan fisik dan hardware adalah ranah provider).
3.  **b** (Standar konektivitas aman antar-cloud).
4.  **b** (Elastisitas cloud adalah pedang bermata dua; kontrol biaya adalah tugas pengguna).
5.  **c** (Mesin tidak mengerti konteks bisnis).

---

## ğŸš€ Mini Challenge
**Audit Keamanan Mandiri:**
Buka dashboard database (atau bayangkan). Cek 3 hal ini:
1.  **Network Access:** Apakah ada `0.0.0.0/0`? Jika ya, hapus dan ganti dengan IP server aplikasimu saja.
2.  **Database Users:** Apakah ada user bernama `admin` dengan password lemah? Ganti/Hapus.
3.  **Advisor:** Apakah ada peringatan "Slow Query" atau "Index Suggestion"? Catat untuk diperbaiki.

---
*Bab 14 Selesai! Kamu sekarang adalah Arsitek Cloud yang bijak. Ketik **"Lanjut"** untuk masuk ke **Bagian Penutup (Outro)**.*